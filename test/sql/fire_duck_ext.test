# name: test/sql/fire_duck_ext.test
# description: test fire_duck_ext extension loading
# group: [sql]

# Require statement will ensure this test is run with this extension loaded
require fire_duck_ext

# Verify extension loaded â€” firestore_scan should exist but fail without credentials
statement error
SELECT * FROM firestore_scan('test');
----
No Firestore credentials found

# Verify secret type is registered
statement ok
CREATE SECRET fs_load_test (
    TYPE firestore,
    PROJECT_ID 'test-project',
    API_KEY 'test-key'
);

statement ok
DROP SECRET fs_load_test;
